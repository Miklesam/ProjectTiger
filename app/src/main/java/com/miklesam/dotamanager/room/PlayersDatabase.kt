package com.miklesam.dotamanager.room

import android.content.Context
import android.graphics.BitmapFactory
import android.graphics.drawable.BitmapDrawable
import android.util.Log
import androidx.room.Database
import androidx.room.Room
import androidx.room.RoomDatabase
import androidx.sqlite.db.SupportSQLiteDatabase
import com.miklesam.dotamanager.R
import com.miklesam.dotamanager.datamodels.Heroes
import com.miklesam.dotamanager.datamodels.Player
import com.miklesam.dotamanager.utils.DataConverter


@Database(entities = [Player::class], version = 1)

abstract class PlayersDatabase : RoomDatabase() {

    abstract fun noteDao(): PlayersDao

    companion object {
        const val CATEGORY_IMAGE_DIR = "android.resource://com.miklesam.dotamanager/drawable/"
        @Volatile
        private var INSTANCE: PlayersDatabase? = null

        fun getInstance(context: Context): PlayersDatabase =
            INSTANCE ?: synchronized(this) {
                INSTANCE ?: buildDatabase(context).also { INSTANCE = it }
            }

        private fun buildDatabase(context: Context) =
            Room.databaseBuilder(
                context.applicationContext,
                PlayersDatabase::class.java, "players_main.db"
            )
                // prepopulate the database after onCreate was called
                .addCallback(object : Callback() {
                    override fun onCreate(db: SupportSQLiteDatabase) {
                        super.onCreate(db)
                        // insert the data on the IO Thread
                        ioThread {
                            Log.w("In Market", "Insert Populate")
                            getInstance(context).noteDao().insertData(getRect(context))
                        }
                    }
                })
                .build()


        fun getRect(context: Context): List<Player> {
            
            return listOf(
                Player(
                    CATEGORY_IMAGE_DIR+"russia4020",
                    "Solo",
                    "Alexey Berezin",
                    "5",
                    "25000",
                    CATEGORY_IMAGE_DIR+"solo_face",M
                    80,
                    85,
                    87,
                    90,
                    85,
                    90,
                    80,
                    85,
                    90,
                    90,
                    Heroes.DISRUPTOR.id,
                    Heroes.BANE.id,
                    Heroes.SHADOW_DEMON.id
                ),
                Player(
                    CATEGORY_IMAGE_DIR+"russia4020",
                    "Zayac",
                    "Bakyt Emilzhanov",
                    "4",
                    "23000",
                    CATEGORY_IMAGE_DIR+"zayc_face",
                    90,
                    80,
                    91,
                    85,
                    85,
                    75,
                    85,
                    85,
                    80,
                    75,
                    Heroes.ELDER_TITAN.id,
                    Heroes.TREANT.id,
                    Heroes.NYX.id
                ),
                Player(
                    CATEGORY_IMAGE_DIR+"russia4020",
                    "Resolut1on",
                    "Roman Fominok",
                    "3",
                    "20000",
                    CATEGORY_IMAGE_DIR+"resolution_face",
                    79,
                    78,
                    76,
                    75,
                    80,
                    81,
                    77,
                    81,
                    75,
                    74,
                    Heroes.BEASTMASTER.id,
                    Heroes.PUCK.id,
                    Heroes.CENTAUR.id
                ),
                Player(
                    CATEGORY_IMAGE_DIR+"russia4020",
                    "No[o]ne",
                    "Vladimir Minenko",
                    "2",
                    "21000",
                    CATEGORY_IMAGE_DIR+"noone_face",
                    84,
                    79,
                    81,
                    84,
                    71,
                    79,
                    81,
                    81,
                    79,
                    65,
                    Heroes.DK.id,
                    Heroes.INVOKER.id,
                    Heroes.STORM_SPIRIT.id
                ),
                Player(
                    CATEGORY_IMAGE_DIR+"russia4020",
                    "Cooman",
                    "Zaur Shakhmurzaev",
                    "1",
                    "18000",
                    CATEGORY_IMAGE_DIR+"cooman_face",
                    84,
                    83,
                    78,
                    81,
                    87,
                    88,
                    85,
                    83,
                    65,
                    80,
                    Heroes.JUGGERNAUT.id,
                    Heroes.TERROBLADE.id,
                    Heroes.TEMPLAR_ASSASIN.id
                ),

            )
        }


        /*
        val PREPOPULATE_DATA = listOf(
                  Player(
                    DataConverter.convertImage2ByteArray(russianFlag),
                    "illias",
                    "Ilyas Ganeev",
                    "5",
                    "12000",
                    DataConverter.convertImage2ByteArray(illiasFace),
                    81,
                    90,
                    89,
                    85,
                    85,
                    69,
                    82,
                    84,
                    86,
                    78,
                    Heroes.CM.id,
                    Heroes.UNDYING.id,
                    Heroes.AA.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(ukranianFlag),
                    "CemaTheSlayer",
                    "Semen Cryvulya",
                    "4",
                    "14000",
                    DataConverter.convertImage2ByteArray(sematheslayerFace),
                    90,
                    85,
                    91,
                    88,
                    75,
                    80,
                    85,
                    85,
                    83,
                    80,
                    Heroes.DISRUPTOR.id,
                    Heroes.DAZZLE.id,
                    Heroes.WITCH_DOCTOR.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(russianFlag),
                    "9pasha",
                    "Pavel Khvastunov",
                    "3",
                    "22000",
                    DataConverter.convertImage2ByteArray(pashaFace),
                    82,
                    84,
                    83,
                    86,
                    71,
                    74,
                    81,
                    84,
                    75,
                    81,
                    Heroes.DARKSEER.id,
                    Heroes.MAGNUS.id,
                    Heroes.CENTAUR.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(izraelFlag),
                    "MagicaL",
                    "Idan Vardanian",
                    "2",
                    "18000",
                    DataConverter.convertImage2ByteArray(magicalFace),
                    81,
                    75,
                    76,
                    74,
                    81,
                    71,
                    87,
                    82,
                    69,
                    72,
                    Heroes.TEMPLAR_ASSASIN.id,
                    Heroes.RAZOR.id,
                    Heroes.TINKER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(ukranianFlag),
                    "Crystallize",
                    "Vladislav Krystanek",
                    "1",
                    "19000",
                    DataConverter.convertImage2ByteArray(cristalizeFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.LIFESTEALER.id,
                    Heroes.FACELESS_VOID.id,
                    Heroes.SVEN.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(kirgistamFlag),
                    "Dream",
                    "Kiyalbek Tayirov",
                    "1",
                    "17000",
                    DataConverter.convertImage2ByteArray(dreamFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.JUGGERNAUT.id,
                    Heroes.TERROBLADE.id,
                    Heroes.MORPHLING.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(russianFlag),
                    "gpk",
                    "Danil Skutin",
                    "2",
                    "17000",
                    DataConverter.convertImage2ByteArray(gpkFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.EMBER.id,
                    Heroes.SHADOW_FIEND.id,
                    Heroes.TEMPLAR_ASSASIN.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(russianFlag),
                    "Shachlo",
                    "Maxim Abramovskikh",
                    "3",
                    "17000",
                    DataConverter.convertImage2ByteArray(shachloFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.AXE.id,
                    Heroes.BATHRIDER.id,
                    Heroes.LONE_DRUID.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(kazahstanFlag),
                    "XSvamp1Re",
                    "Danial Alibaev",
                    "4",
                    "17000",
                    DataConverter.convertImage2ByteArray(xsvampireFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.TUSK.id,
                    Heroes.EARTH_SPIRIT.id,
                    Heroes.EARTH_SHAKER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(belarusFlag),
                    "fng",
                    "Artsiom Barshak",
                    "5",
                    "17000",
                    DataConverter.convertImage2ByteArray(fngFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.BANE.id,
                    Heroes.VENGEFUL.id,
                    Heroes.TREANT.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(finlandFlag),
                    "Matumbaman",
                    "Lasse Urpalainen",
                    "1",
                    "17000",
                    DataConverter.convertImage2ByteArray(matumbaFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.LONE_DRUID.id,
                    Heroes.LYCAN.id,
                    Heroes.BROODMOTHER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(polandFlag),
                    "Nisha",
                    "Michał Jankowski",
                    "2",
                    "17000",
                    DataConverter.convertImage2ByteArray(nishaFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.TERROBLADE.id,
                    Heroes.ARC_WARDEN.id,
                    Heroes.MORPHLING.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(swedenFlag),
                    "Zai",
                    "Ludwig Wåhlberg",
                    "3",
                    "17000",
                    DataConverter.convertImage2ByteArray(zaiFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.ENIGMA.id,
                    Heroes.BATHRIDER.id,
                    Heroes.DARKSEER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(jordanFlag),
                    "Yapzor",
                    "Yazied Jaradat",
                    "4",
                    "17000",
                    DataConverter.convertImage2ByteArray(yapzorFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.RUBICK.id,
                    Heroes.EARTH_SHAKER.id,
                    Heroes.ENIGMA.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(estoniaFlag),
                    "Puppey",
                    "Clement Ivanov",
                    "5",
                    "17000",
                    DataConverter.convertImage2ByteArray(puppeyFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.CHEN.id,
                    Heroes.ENCHANTRESS.id,
                    Heroes.BOUNTY.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(chinaFlag),
                    "Paparazi",
                    "Zhang Chengjun",
                    "1",
                    "17000",
                    DataConverter.convertImage2ByteArray(paparaziFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.LIFESTEALER.id,
                    Heroes.SVEN.id,
                    Heroes.SLARK.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(chinaFlag),
                    "Ori",
                    "Zeng Jiaoyang",
                    "2",
                    "17000",
                    DataConverter.convertImage2ByteArray(oriFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.TEMPLAR_ASSASIN.id,
                    Heroes.STORM_SPIRIT.id,
                    Heroes.SHADOW_FIEND.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(chinaFlag),
                    "Yang",
                    "Zhou Haiyang",
                    "3",
                    "17000",
                    DataConverter.convertImage2ByteArray(yangFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.CLOCKWERK.id,
                    Heroes.DARKSEER.id,
                    Heroes.BEASTMASTER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(chinaFlag),
                    "Pyw",
                    "Xiong Jiahan",
                    "4",
                    "17000",
                    DataConverter.convertImage2ByteArray(pywFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.LESHRAC.id,
                    Heroes.SAND_KING.id,
                    Heroes.RUBICK.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(chinaFlag),
                    "Dy",
                    "Ding Cong",
                    "5",
                    "17000",
                    DataConverter.convertImage2ByteArray(dyFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.EARTH_SPIRIT.id,
                    Heroes.MONKEY_KING.id,
                    Heroes.CLOCKWERK.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(kanadaFlag),
                    "Arteezy",
                    "Artour Babaev",
                    "1",
                    "17000",
                    DataConverter.convertImage2ByteArray(arteezyFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.DROW.id,
                    Heroes.LYCAN.id,
                    Heroes.NAGA.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(phillipinesFlag),
                    "Abed",
                    "Abed Yusop",
                    "2",
                    "17000",
                    DataConverter.convertImage2ByteArray(abedFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.MEEPO.id,
                    Heroes.INVOKER.id,
                    Heroes.TINKER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(russianFlag),
                    "Ramzes",
                    "Roman Kushnarev",
                    "3",
                    "17000",
                    DataConverter.convertImage2ByteArray(ramzesFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.TIMBERSAW.id,
                    Heroes.OMNIKNIGHT.id,
                    Heroes.BEASTMASTER.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(denmarkFlag),
                    "Cr1t",
                    "Andreas Nielsen",
                    "4",
                    "17000",
                    DataConverter.convertImage2ByteArray(cr1tFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.RUBICK.id,
                    Heroes.EARTH_SPIRIT.id,
                    Heroes.DARK_WILLOW.id
                ),
                Player(
                    DataConverter.convertImage2ByteArray(izraelFlag),
                    "Fly",
                    "Tal Aizik",
                    "5",
                    "17000",
                    DataConverter.convertImage2ByteArray(flyFace),
                    85,
                    74,
                    76,
                    83,
                    76,
                    70,
                    84,
                    81,
                    60,
                    69,
                    Heroes.DAZZLE.id,
                    Heroes.CM.id,
                    Heroes.DISRUPTOR.id
                )
            ,
            Player(
                R.drawable.bulgaria,
                "Nikobaby",
                "Nikolay Nikolov",
                "1",
                "17000",
                R.drawable.nikobaby_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.SLARK.id,
                Heroes.ANTIMAGE.id,
                Heroes.QOP.id
            ),
            Player(
                R.drawable.sweden,
                "Limp",
                "Linus Blomdin",
                "2",
                "17000",
                R.drawable.limp_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.PUCK.id,
                Heroes.TINY.id,
                Heroes.TEMPLAR_ASSASIN.id
            ),
            Player(
                R.drawable.israel,
                "33",
                "Neta Shapira",
                "3",
                "17000",
                R.drawable.the_koon_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.BATHRIDER.id,
                Heroes.DARKSEER.id,
                Heroes.LC.id
            ),
            Player(
                R.drawable.sweden,
                "Handsken",
                "Simon Haag",
                "4",
                "17000",
                R.drawable.handsken_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.IO.id,
                Heroes.DISRUPTOR.id,
                Heroes.CHEN.id
            ),
            Player(
                R.drawable.germany,
                "Fata",
                "Adrian Trinks",
                "5",
                "17000",
                R.drawable.fata_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.JAKIRO.id,
                Heroes.OGREMAGI.id,
                Heroes.UNDYING.id
            ),
            Player(
                R.drawable.phillipines,
                "Gabbi",
                "Kim Villafuerte",
                "1",
                "17000",
                R.drawable.gabbi_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.JUGGERNAUT.id,
                Heroes.SVEN.id,
                Heroes.WIVER.id
            ),
            Player(
                R.drawable.phillipines,
                "Armel",
                "Armel Paul Tabios",
                "2",
                "17000",
                R.drawable.armel_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.OD.id,
                Heroes.TEMPLAR_ASSASIN.id,
                Heroes.INVOKER.id
            ),
            Player(
                R.drawable.australia,
                "kpii",
                "Damien Chok",
                "3",
                "17000",
                R.drawable.kpii_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.ENIGMA.id,
                Heroes.OMNIKNIGHT.id,
                Heroes.NAGA.id
            ),
            Player(
                R.drawable.phillipines,
                "Tims",
                "Timothy Randrup",
                "4",
                "17000",
                R.drawable.tims_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.EARTH_SPIRIT.id,
                Heroes.EARTH_SHAKER.id,
                Heroes.NYX.id
            ),
            Player(
                R.drawable.southkorea,
                "March",
                "Park Tae-won",
                "5",
                "17000",
                R.drawable.march_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.SPIRIT_BREAKER.id,
                Heroes.WARLOCK.id,
                Heroes.UNDYING.id
            ),
            Player(
                R.drawable.sweden,
                "miCKe",
                "Michael Vu",
                "1",
                "17000",
                R.drawable.micke_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.MIRANA.id,
                Heroes.EMBER.id,
                Heroes.MORPHLING.id
            ),
            Player(
                R.drawable.germany,
                "qojqva",
                "Maximilian Bröcker",
                "2",
                "17000",
                R.drawable.qojqva_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.LONE_DRUID.id,
                Heroes.NATURES_PROPHET.id,
                Heroes.INVOKER.id
            ),
            Player(
                R.drawable.sweden,
                "Boxi",
                "Samuel Svahn",
                "3",
                "17000",
                R.drawable.boxi_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.BREWMASTER.id,
                Heroes.BEASTMASTER.id,
                Heroes.EARTH_SHAKER.id
            ),
            Player(
                R.drawable.norvay,
                "Taiga",
                "Tommy Le",
                "4",
                "17000",
                R.drawable.taiga_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.EARTH_SPIRIT.id,
                Heroes.CHEN.id,
                Heroes.IO.id
            ),
            Player(
                R.drawable.sweden,
                "iNSaNiA",
                "Aydin Sarkohi",
                "5",
                "17000",
                R.drawable.insania_face,
                85,
                74,
                76,
                83,
                76,
                70,
                84,
                81,
                60,
                69,
                Heroes.RUBICK.id,
                Heroes.CM.id,
                Heroes.PHOENIX.id
            )




        )
  */
    }
}